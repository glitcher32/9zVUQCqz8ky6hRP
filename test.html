<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">

<script>
  window.console = window.console || function(t) {};
</script>
<script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage("resize", "*");
  }
</script>
</head>
<body translate="no">
<div class="charging"></div>
<div class="level"></div>
<div class="charging-time"></div>
<div class="discharge-time"></div>
<script src="https://static.codepen.io/assets/common/stopExecutionOnTimeout-de7e2ef6bfefd24b79a3f68b414b87b8db5b08439cac3f1012092b2290c719cd.js"></script>
<script id="rendered-js">
      if ('getBattery' in navigator) {
  // console.log('YES! browser supports battery API')

  navigator.getBattery().
  then(battery => {
    console.log('Battery Information', battery);

    // fire all of the functions on page load
    (() => {
      updateChargeInfo(battery.charging);
      updateLevelInfo(battery.level);
      updateChargingInfo(battery.chargingTime);
      updateDischargingInfo(battery.dischargeTime);
    })();

    battery.addEventListener('chargingchange', () => {
      updateChargeInfo(battery.charging);
    });

    battery.addEventListener('levelchange', () => {
      updateLevelInfo(battery.level);
    });

    battery.addEventListener('chargingtimechange', () => {
      updateChargingInfo(battery.chargingTime);
    });

    battery.addEventListener('dischargingtimechange', () => {
      updateDischargingInfo(battery.dischargingTime);
    });
  });

} else {
  console.log('browser does not support battery API');
}

function updateChargeInfo(charging) {
  let text = 'Battery Charging: ' + (charging ? 'Yes' : 'No');

  document.querySelector('.charging').textContent = text;

  if (charging) {
    document.body.classList.add('body--active');
  } else {
    document.body.classList.remove('body--active');
  }
}

function updateLevelInfo(level) {
  let text = "Battery level: " + level * 100 + "%";
  document.querySelector('.level').textContent = text;
}

function updateChargingInfo(chargingTime) {
  let text = "Battery charging time: " + chargingTime + " seconds";

  document.querySelector('.charging-time').textContent = text;
}

function updateDischargingInfo(dischargingTime) {
  let text = "Battery discharging time: " + dischargingTime + " seconds";

  document.querySelector('.discharge-time').textContent = text;
}
      //# sourceURL=pen.js
    </script>
